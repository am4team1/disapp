<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุงููุฉ - MeetHub</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/call.css">
</head>
<body class="call-page">
    <div class="call-container">
        <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
        <div class="sidebar">
            <!-- ูุนูููุงุช ุงูุบุฑูุฉ -->
            <div class="room-info">
                <div class="room-header">
                    <h3>๐ฏ ุงูููุงููุฉ ุงููุดุทุฉ</h3>
                    <div class="room-code-display">
                        <span>ููุฏ:</span>
                        <code id="currentRoomCode">XXXXXX</code>
                        <button class="copy-btn-small" onclick="copyRoomCode()">๐</button>
                    </div>
                </div>
                
                <div class="room-details">
                    <div class="detail-item">
                        <span class="detail-label">ุงุณู ุงูููุงููุฉ:</span>
                        <span id="currentRoomName" class="detail-value">ุงุฌุชูุงุน ูุฑูู ุงูุนูู</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงููุถูู:</span>
                        <span id="roomHost" class="detail-value">ุฃุญูุฏ</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ููุช ุงูุจุฏุก:</span>
                        <span id="callStartTime" class="detail-value">--:--</span>
                    </div>
                </div>
            </div>

            <!-- ูุงุฆูุฉ ุงููุดุงุฑููู -->
            <div class="participants-section">
                <div class="section-header">
                    <h4>๐ฅ ุงููุดุงุฑููู (<span id="participantsCount">1</span>)</h4>
                    <button class="invite-btn" onclick="showInviteModal()">๐ฉ ุฏุนูุฉ</button>
                </div>
                
                <div class="participants-list" id="participantsList">
                    <div class="participant active" id="localParticipant">
                        <div class="participant-avatar">ุฃูุช</div>
                        <div class="participant-info">
                            <span class="participant-name" id="localUserName">ุฃุญูุฏ</span>
                            <span class="participant-status">ูุชุตู</span>
                        </div>
                        <div class="participant-actions">
                            <button class="action-btn mic-btn active">๐ค</button>
                            <button class="action-btn cam-btn active">๐น</button>
                        </div>
                    </div>
                    <!-- ุณูุชู ุฅุถุงูุฉ ุงููุดุงุฑููู ุงูุขุฎุฑูู ููุง -->
                </div>
            </div>

            <!-- ุงูุฃุฏูุงุช -->
            <div class="tools-section">
                <h4>๐๏ธ ุงูุฃุฏูุงุช</h4>
                <div class="tools-grid">
                    <button class="tool-btn" onclick="shareScreen()">
                        <span class="tool-icon">๐ฅ๏ธ</span>
                        <span class="tool-text">ูุดุงุฑูุฉ ุงูุดุงุดุฉ</span>
                    </button>
                    <button class="tool-btn" onclick="toggleChat()">
                        <span class="tool-icon">๐ฌ</span>
                        <span class="tool-text">ุงูุฏุฑุฏุดุฉ</span>
                    </button>
                    <button class="tool-btn" onclick="showSettings()">
                        <span class="tool-icon">โ๏ธ</span>
                        <span class="tool-text">ุงูุฅุนุฏุงุฏุงุช</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- ุงูููุทูุฉ ุงูุฑุฆูุณูุฉ -->
        <div class="main-area">
            <!-- ุดุฑูุท ุงูุชุญูู ุงูุนููู -->
            <div class="top-bar">
                <div class="room-title">
                    <h2 id="mainRoomName">ุงุฌุชูุงุน ูุฑูู ุงูุนูู</h2>
                    <div class="call-timer">
                        <span id="callTimer">00:00</span>
                    </div>
                </div>
                
                <div class="top-controls">
                    <button class="record-btn" onclick="toggleRecording()">
                        <span class="record-icon">๐ด</span>
                        <span>ุชุณุฌูู</span>
                    </button>
                    <button class="leave-btn" onclick="leaveCall()">
                        <span class="leave-icon">๐</span>
                        <span>ุฅููุงุก ุงูููุงููุฉ</span>
                    </button>
                </div>
            </div>

            <!-- ุดุจูุฉ ุงูููุฏูู -->
            <div class="video-grid" id="videoGrid">
                <!-- ุณูุชู ุฅุถุงูุฉ ููุฏูููุงุช ุงููุดุงุฑููู ููุง -->
                <div class="video-container local-video">
                    <div class="video-wrapper">
                        <video id="localVideo" autoplay muted></video>
                        <div class="video-overlay">
                            <div class="user-info">
                                <span class="user-name">ุฃูุช</span>
                                <div class="user-status">
                                    <span class="mic-status active">๐ค</span>
                                    <span class="cam-status active">๐น</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุดุฑูุท ุงูุชุญูู ุงูุณููู -->
            <div class="control-bar">
                <div class="main-controls">
                    <button class="control-btn large" id="micToggleBtn">
                        <span class="btn-icon">๐ค</span>
                        <span class="btn-text">ูุชู</span>
                    </button>
                    
                    <button class="control-btn large" id="videoToggleBtn">
                        <span class="btn-icon">๐น</span>
                        <span class="btn-text">ูุงููุฑุง</span>
                    </button>
                    
                    <button class="control-btn large" id="screenShareBtn">
                        <span class="btn-icon">๐ฅ๏ธ</span>
                        <span class="btn-text">ุดุงุดุฉ</span>
                    </button>
                    
                    <button class="control-btn large danger" onclick="leaveCall()">
                        <span class="btn-icon">๐</span>
                        <span class="btn-text">ุฅููุงุก</span>
                    </button>
                </div>
                
                <div class="extra-controls">
                    <button class="control-btn small" onclick="toggleParticipants()">
                        <span class="btn-icon">๐ฅ</span>
                    </button>
                    
                    <button class="control-btn small" onclick="toggleChatPanel()">
                        <span class="btn-icon">๐ฌ</span>
                    </button>
                    
                    <button class="control-btn small" onclick="showMoreOptions()">
                        <span class="btn-icon">โฏ</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- ููุญุฉ ุงูุฏุฑุฏุดุฉ ุงูุฌุงูุจูุฉ -->
        <div class="chat-panel" id="chatPanel">
            <div class="chat-header">
                <h4>๐ฌ ุงูุฏุฑุฏุดุฉ</h4>
                <button class="close-chat" onclick="toggleChatPanel()">ร</button>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <!-- ุณูุชู ุฅุถุงูุฉ ุงูุฑุณุงุฆู ููุง -->
            </div>
            
            <div class="chat-input">
                <input type="text" id="messageInput" placeholder="ุงูุชุจ ุฑุณุงูุฉ...">
                <button id="sendMessageBtn">โค</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงูุฏุนูุฉ -->
    <div class="modal" id="inviteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>๐ฉ ุฏุนูุฉ ุฃุดุฎุงุต</h3>
                <button class="close-modal" onclick="closeInviteModal()">ร</button>
            </div>
            
            <div class="modal-body">
                <p>ุดุงุฑู ูุฐุง ุงูุฑุงุจุท ุฃู ุงูููุฏ ููุฏุนูุฉ:</p>
                
                <div class="invite-code">
                    <code id="inviteCodeDisplay">XXXXXX</code>
                    <button class="copy-btn" onclick="copyInviteCode()">๐ ูุณุฎ ุงูููุฏ</button>
                </div>
                
                <div class="share-buttons">
                    <button class="share-btn whatsapp" onclick="shareWhatsApp()">๐ฑ ูุงุชุณุงุจ</button>
                    <button class="share-btn telegram" onclick="shareTelegram()">โ๏ธ ุชูููุฌุฑุงู</button>
                    <button class="share-btn link" onclick="copyInviteLink()">๐ ูุณุฎ ุงูุฑุงุจุท</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ููุชุจุฉ Agora -->
    <script src="js/agora-sdk.js"></script>
    <script src="js/call.js"></script>
</body>
</html>
